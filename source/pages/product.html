<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dien thoai</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>

<style>
    .brand-logo{
        height: 2rem;
    }
</style>

<body>

    <div class="container-lg">

        <!-- HỘP TÌM KIẾM -->
        <div class="input-group p-3" style="height: 5rem;">
                
            <input type="text" class="form-control" placeholder="Tìm kiếm...">
                
            <button class="btn btn-danger btn-lg">Tìm kiếm...</button>
        
        </div>

        <!-- HÃNG -->
        <div>

            <a href="" class="btn btn-outline-light">

                <img src="../image/apple.webp" alt="" class="brand-logo">

            </a>

            <a href="" class="btn btn-outline-light">

                <img src="../image/samsung.webp" alt="" class="brand-logo">

            </a>

            <a href="" class="btn btn-outline-light">

                <img src="../image/vivo.webp" alt="" class="brand-logo">

            </a>

            <a href="" class="btn btn-outline-light">

                <img src="../image/realme.webp" alt="" class="brand-logo">

            </a>

            <a href="" class="btn btn-outline-light">

                <img src="../image/nokia.webp" alt="" class="brand-logo">

            </a>

            <a href="" class="btn btn-outline-light">

                <img src="../image/xiaomi.webp" alt="" class="brand-logo">

            </a>

            <a href="" class="btn btn-outline-light">

                <img src="../image/oppo.webp" alt="" class="brand-logo">

            </a>

        </div>

        <div class="row mt-5">

            <div class="col-2">

                <h5>
                    <b>Theo nhu cầu</b>
                </h5>

                <ul  class="list-unstyled">

                    <li class="my-1"><a href="" class="btn btn-outline-dark">Chơi game</a></li>

                    <li class="my-1"><a href="" class="btn btn-outline-dark">Chụp ảnh</a></li>

                    <li class="my-1"><a href="" class="btn btn-outline-dark">Live stream</a></li>
                </ul>
                
                <h5>
                    <b>Theo tiêu chí</b>
                </h5>

                <ul  class="list-unstyled">

                    <li class="my-1">
                        
                        <div class="btn-group dropend">
  
                            <button type="button" class="btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
    
                                CPU
  
                            </button>
  
                            <ul class="dropdown-menu">
                                
                                <li class="my-1"><a class="dropdown-item" href="#">Intel</a></li>
            
                                <li class="my-1"><a class="dropdown-item" href="#">AMD</a></li>
            
                                <li class="my-1"><a class="dropdown-item" href="#">Xeon</a></li>
  
                            </ul>

                        </div>
                    
                    </li>

                    <li class="my-1">
                        
                        <div class="btn-group dropend">
  
                            <button type="button" class="btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
    
                                Ram
  
                            </button>
  
                            <ul class="dropdown-menu">
                                
                                <li class="my-1"><a class="dropdown-item" href="#">8Gb</a></li>
            
                                <li class="my-1"><a class="dropdown-item" href="#">16GB</a></li>
            
                                <li class="my-1"><a class="dropdown-item" href="#">32GB</a></li>

                            </ul>

                        </div>
                    </li>

                    <li class="my-1">
                        
                        <div class="btn-group dropend">
  
                            <button type="button" class="btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
    
                                Rom
  
                            </button>
  
                            <ul class="dropdown-menu">
    
                                <li class="my-1"><a class="dropdown-item" href="#">8Gb</a></li>
            
                                <li class="my-1"><a class="dropdown-item" href="#">16GB</a></li>
            
                                <li class="my-1"><a class="dropdown-item" href="#">32GB</a></li>
  
                            </ul>

                        </div>
                        
                    </li>
                </ul>

                <h5>
                    <b>Sắp xếp theo</b>
                </h5>

                <ul  class="list-unstyled">

                    <li class="my-1"><a href="" class="btn btn-outline-dark">Giá cao -> thấp</a></li>

                    <li class="my-1"><a href="" class="btn btn-outline-dark">Giá thấp -> cao</a></li>

                    <li class="my-1"><a href="" class="btn btn-outline-dark">Khuyến mãi hot</a></li>
                </ul>

            </div>

            <div class="col-10">
                
                <section class="products mt-4">

                    <div class="row">
                        <div class="col-md-4 mb-4">
                            <div class="card">
                                <img src="../image/sanpham1.jpg" class="card-img-top" alt="Sản phẩm 1">
                                <div class="card-body">
                                    <h5 class="card-title">Sản phẩm 1</h5>
                                    <p class="card-text">Giá: 13,990,000₫</p>
                                    <a href="#" class="btn btn-primary">Thêm vào giỏ hàng</a>  
                                    <a href="#" class="btn btn-secondary">Xem chi tiết</a>
                    </div>

                </section>

            </div>

        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
    <script>

        fetch('/api/products')

        .then(res => res.json())

        .then(products => {
            const row = document.querySelector('.products .row');

            row.innerHTML = '';

            products.forEach(product => {
            row.innerHTML += `
                <div class="col-md-4 mb-4">

                <div class="card">

                    <img src="${product.img}" class="card-img-top" alt="${product.name}">

                    <div class="card-body">

                    <h5 class="card-title">${product.name}</h5>

                    <p class="card-text">Giá: ${product.price}</p>

                    <button class="btn btn-primary mt-2" onclick="addToCart('${product.id}')">Thêm vào giỏ hàng</button>

                    <a href="./detail.html?id=${product.id}" class="btn btn-secondary">Xem chi tiết</a>

                    </div>

                </div>

                </div>
            `;
            });
        });

    </script>
    <script>
    function addToCart(productId) {
    // Lấy giỏ hàng hiện tại từ localStorage (nếu có)
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    // Kiểm tra sản phẩm đã có trong giỏ chưa
    const index = cart.findIndex(item => item.id === productId);
    if (index > -1) {
        cart[index].quantity += 1;
    } else {
        cart.push({ id: productId, quantity: 1 });
    }
    localStorage.setItem('cart', JSON.stringify(cart));
    alert('Đã thêm vào giỏ hàng!');
    }
    </script>
</body>
</html>